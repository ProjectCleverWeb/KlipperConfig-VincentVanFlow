[gcode_macro FILAMENT_CHANGE]
description:
	M600: Filament Change. This macro will pause the printer, move the tool to
	the change position, and retract the filament 50mm. Adjust the retraction
	settings for your own extruder. After filament has been changed, the print can
	be resumed from its previous position with the "RESUME" gcode.
gcode:
	_MACRO_START NAME="FILAMENT_CHANGE"
	{% set X = params.X|default(0)|float %}
	{% set Y = params.Y|default(printer.toolhead.axis_maximum.y|float - 20)|float %}
	{% set Z = params.Z|default(5)|float %}
	PAUSE
	G91 ; Relative positioning
	G1 E-.8 F3600 ; Quick Retract
	G1 Z{Z} F1200 ; Z position
	G90 ; Absolute positioning
	G1 X{X} Y{Y} F2700 ; X/Y position
	G91 ; Relative positioning
	G1 E-100 F3600 ; Retract out of hotened
	_MACRO_END NAME="FILAMENT_CHANGE"